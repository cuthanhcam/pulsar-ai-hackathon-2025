# ========================================
# ðŸ”§ PulsarTeam Backend Environment Variables
# ========================================

# ==================== Server ====================
NODE_ENV=development
PORT=5000

# Request body size limit (e.g., 10mb, 50mb)
BODY_SIZE_LIMIT=10mb

# API timeout in milliseconds
API_TIMEOUT=30000

# ==================== Database ====================
# PostgreSQL connection URLs
DATABASE_URL=postgresql://user:password@localhost:5432/pulsar_db?pgbouncer=true
DIRECT_URL=postgresql://user:password@localhost:5432/pulsar_db

# ==================== JWT & Security ====================
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-min-32-chars

# JWT token expiration (e.g., 1h, 1d, 7d, 30d)
JWT_EXPIRES_IN=7d

# JWT refresh token expiration (longer than JWT_EXPIRES_IN)
JWT_REFRESH_EXPIRES_IN=30d

# Generate with: node scripts/generate-encryption-key.js
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ==================== Google Gemini AI ====================
# Get free at: https://ai.google.dev/
GEMINI_API_KEY=your-gemini-api-key-here

# Gemini model name
GEMINI_MODEL=gemini-1.5-flash

# Gemini API temperature (0.0 - 1.0)
GEMINI_TEMPERATURE=0.7

# ==================== Frontend CORS ====================
# Allowed frontend URLs (comma-separated)
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# CORS max age in seconds (24 hours = 86400)
CORS_MAX_AGE=86400

# ==================== Email (SMTP) ====================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM_NAME=PulsarTeam AI
SMTP_FROM_EMAIL=noreply@pulsarteam.com

# ==================== Qdrant Vector Database ====================
# Local: http://localhost:6333 | Cloud: https://your-cluster.qdrant.io
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# Collection name for embeddings
QDRANT_COLLECTION=pulsar_embeddings

# ==================== Ollama (Optional) ====================
# Local LLM server URL
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# ==================== Embedding Server ====================
# FastAPI embedding server
EMBED_URL=http://localhost:8000
EMBED_TYPE=fastapi
EMBED_MODEL=mxbai-embed-large-v1

# ==================== Credit System ====================
# Default credits for new users
DEFAULT_CREDITS=500

# Credit costs for operations
CREDIT_COST_COURSE_GENERATE=100
CREDIT_COST_QUIZ_GENERATE=5
CREDIT_COST_CHAT_MESSAGE=1
CREDIT_COST_SECTION_GENERATE=10

# ==================== Rate Limiting ====================
# Requests per minute per IP
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# ==================== OAuth (Optional) ====================
# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ==================== Logging ====================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ==================== File Upload ====================
# Max file size for uploads (e.g., 5mb, 10mb)
MAX_FILE_SIZE=5mb

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ==================== Session ====================
# Session cookie name
SESSION_COOKIE_NAME=pulsar_session

# Session max age in milliseconds (7 days = 604800000)
SESSION_MAX_AGE=604800000

# ==================== Admin ====================
# Admin default credentials (change after first login!)
ADMIN_EMAIL=admin@pulsarteam.com
ADMIN_PASSWORD=change-this-password-123

# ==================== Development ====================
# Enable debug mode
DEBUG=false

# Enable Prisma query logging
PRISMA_QUERY_LOG=false

# ==================== Production ====================
# API version
API_VERSION=v1

# Enable HTTPS redirect
FORCE_HTTPS=false

# Trust proxy (for deployment behind reverse proxy)
TRUST_PROXY=false

